'use strict';

let alphabet = require('./alphabet');
let random = require('./random/random-byte');
let format = require('nanoid/format');

function generate(number) {
    let loopCounter = 0;
    let done;

    let str = '';

    while (!done) {
        str = str + format(random, alphabet.get(), 1);
        done = number < (Math.pow(16, loopCounter + 1 ) );
        loopCounter++;
    }
    return str;
}

module.exports = generate;
